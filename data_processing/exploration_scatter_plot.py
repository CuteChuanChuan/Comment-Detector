import plotly.graph_objects as go
import plotly.express as px


data = [{'_id': 'coffee112', 'count': 84, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695094814.A.E48.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695173072.A.D82.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695173072.A.D82.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695173072.A.D82.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695173072.A.D82.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695050116.A.DBE.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695035036.A.278.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695035036.A.278.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695035036.A.278.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695035036.A.278.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695035036.A.278.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695174049.A.F32.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695174049.A.F32.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695174049.A.F32.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695087479.A.6DB.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695087479.A.6DB.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695067220.A.6A6.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695115057.A.B79.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695095241.A.985.html', 'https://www.ptt.cc/bbs/Gossiping/M.1694949600.A.6AD.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695080805.A.023.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695080805.A.023.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695185679.A.AA4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695185679.A.AA4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695185679.A.AA4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695185679.A.AA4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695185679.A.AA4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695185679.A.AA4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695185679.A.AA4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695185679.A.AA4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695185679.A.AA4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695181877.A.03C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695112302.A.3DD.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695112302.A.3DD.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186856.A.79B.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186856.A.79B.html'], 'comments_type': ['推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推'], 'comments_latency': [527.0, 4829.0, 5009.0, 5189.0, 9869.0, 105.0, 306.0, 366.0, 1206.0, 1266.0, 3186.0, 73.0, 133.0, 193.0, 182.0, 1202.0, 9161.0, 96.0, 336.0, 396.0, 456.0, 456.0, 516.0, 516.0, 996.0, 996.0, 1116.0, 1176.0, 1176.0, 1356.0, 4296.0, 4356.0, 6396.0, 6516.0, 7836.0, 84.0, 40.0, 61.0, 1456.0, 6556.0, 502.0, 622.0, 682.0, 802.0, 862.0, 862.0, 922.0, 2422.0, 2962.0, 354.0, 654.0, 834.0, 1134.0, 1434.0, 1494.0, 1554.0, 1794.0, 1974.0, 2094.0, 2214.0, 2274.0, 2334.0, 2394.0, 2574.0, 2634.0, 2874.0, 2934.0, 3054.0, 584.0, 644.0, 644.0, 704.0, 764.0, 824.0, 884.0, 1184.0, 1244.0, 1304.0, 1364.0, 3164.0, 4399.0, 4519.0, 106.0, 166.0]}, {'_id': 's203abc', 'count': 12, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695086089.A.AC1.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695086089.A.AC1.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695086089.A.AC1.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695174049.A.F32.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695093980.A.B6F.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695093980.A.B6F.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695087479.A.6DB.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695161030.A.A06.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695094251.A.89F.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695030941.A.7E4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695213680.A.309.html'], 'comments_type': ['推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推', '推'], 'comments_latency': [135.0, 255.0, 795.0, 313.0, 821.0, 1661.0, 902.0, 851.0, 3936.0, 430.0, 500.0, 342.0]}, {'_id': 'dick929', 'count': 8, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695015707.A.DB8.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695015707.A.DB8.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695015707.A.DB8.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695015707.A.DB8.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695015707.A.DB8.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695015707.A.DB8.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695015707.A.DB8.html', 'https://www.ptt.cc/bbs/Gossiping/M.1694964866.A.587.html'], 'comments_type': ['推', '推', '推', '推', '推', '推', '推', '推'], 'comments_latency': [434.0, 554.0, 794.0, 1634.0, 1814.0, 2054.0, 2174.0, 95.0]}, {'_id': 'alice1967', 'count': 7, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695177954.A.6BB.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695177954.A.6BB.html'], 'comments_type': ['推', '推', '推', '推', '推', '推', '推'], 'comments_latency': [96.0, 1476.0, 2556.0, 2976.0, 4536.0, 128.0, 3608.0]}, {'_id': 'cvnn', 'count': 5, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695067220.A.6A6.html', 'https://www.ptt.cc/bbs/Gossiping/M.1694970792.A.A2C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1694963463.A.258.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695094251.A.89F.html', 'https://www.ptt.cc/bbs/Gossiping/M.1694964866.A.587.html'], 'comments_type': ['推', '推', '推', '推', '推'], 'comments_latency': [15701.0, 469.0, 118.0, 250.0, 275.0]}, {'_id': 'waldo870', 'count': 5, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695191829.A.158.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html'], 'comments_type': ['推', '推', '推', '推', '推'], 'comments_latency': [8016.0, 8316.0, 8496.0, 13132.0, 11454.0]}, {'_id': 'bluetom7', 'count': 5, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695035036.A.278.html', 'https://www.ptt.cc/bbs/Gossiping/M.1694970792.A.A2C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695080805.A.023.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695116357.A.5D8.html'], 'comments_type': ['推', '推', '推', '推', '推'], 'comments_latency': [5106.0, 7369.0, 4396.0, 1554.0, 5144.0]}, {'_id': 'q123212', 'count': 5, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1694988305.A.7EF.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695202836.A.BB7.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695079972.A.E9C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695048969.A.F6F.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695046747.A.6B5.html'], 'comments_type': ['推', '推', '推', '推', '推'], 'comments_latency': [2162.0, 385.0, 311.0, 172.0, 294.0]}, {'_id': 'Submicromete', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695115057.A.B79.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695095241.A.985.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695200198.A.EA7.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695112302.A.3DD.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [84.0, 100.0, 263.0, 79.0]}, {'_id': 'matico', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695115057.A.B79.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695191829.A.158.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695079972.A.E9C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695134766.A.E4F.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [204.0, 112.0, 311.0, 175.0]}, {'_id': 'zzzzaaaa', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695115057.A.B79.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695191829.A.158.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695079972.A.E9C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695134766.A.E4F.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [1644.0, 12472.0, 851.0, 475.0]}, {'_id': 'Marty', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695011739.A.9FB.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695195694.A.675.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695012592.A.89E.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695012592.A.89E.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [982.0, 207.0, 489.0, 489.0]}, {'_id': 'Gandalf', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1694964819.A.503.html', 'https://www.ptt.cc/bbs/Gossiping/M.1694964866.A.587.html', 'https://www.ptt.cc/bbs/Gossiping/M.1694964825.A.9D4.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695080605.A.172.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [202.0, 95.0, 77.0, 97.0]}, {'_id': 'garcia', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1694958523.A.FC9.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695079972.A.E9C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695134766.A.E4F.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695038930.A.ADD.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [5658.0, 4451.0, 1075.0, 1392.0]}, {'_id': 'nightwing', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695173072.A.D82.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695173072.A.D82.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695173072.A.D82.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695083466.A.281.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [149.0, 209.0, 689.0, 236.0]}, {'_id': 'jackycheny', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695044871.A.A44.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695012424.A.335.html', 'https://www.ptt.cc/bbs/Gossiping/M.1694963463.A.258.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695112302.A.3DD.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [430.0, 419.0, 118.0, 679.0]}, {'_id': 'srxteam0935', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695115057.A.B79.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695021809.A.ACA.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695021809.A.ACA.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695010607.A.D69.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [1944.0, 1892.0, 2072.0, 2714.0]}, {'_id': 'deann', 'count': 4, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695192656.A.A20.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695087479.A.6DB.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695021671.A.5DC.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695200198.A.EA7.html'], 'comments_type': ['推', '推', '推', '推'], 'comments_latency': [65.0, 1082.0, 470.0, 203.0]}, {'_id': 'REALJOINGO', 'count': 3, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695083466.A.281.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695079972.A.E9C.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695195694.A.675.html'], 'comments_type': ['推', '推', '推'], 'comments_latency': [12536.0, 115511.0, 9747.0]}, {'_id': 'athome1', 'count': 3, 'article_urls': ['https://www.ptt.cc/bbs/Gossiping/M.1695173072.A.D82.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695186325.A.916.html', 'https://www.ptt.cc/bbs/Gossiping/M.1695193836.A.663.html'], 'comments_type': ['推', '推', '推'], 'comments_latency': [8429.0, 396.0, 386.0]}]

ids = [entry['_id'] for entry in data]
latencies = [entry['comments_latency'] for entry in data]

# Extract and filter latencies
filtered_latencies = [lat for sublist in latencies for lat in sublist if lat <= 60*60*2]
filtered_ids = [id for id, sublist in zip(ids, latencies) for lat in sublist if lat <= 60*60*2]

# Create the ECDF plot for filtered data
fig = px.ecdf(filtered_latencies, color=filtered_ids, labels={'value':'Latency'},
              title="Empirical Cumulative Distribution of Comment Latencies by ID (Filtered)",
              color_discrete_sequence=px.colors.qualitative.Set2)
fig.show()

